{extend name="templates/public/base.html"}
{block name="main"}
<div class="layui-container" style="height: 86vh;">
  <h1 align="center">{$user.nickname}</h1>
  <h4>基础信息</h4>
  <p>昵称：{$user.nickname}</p>
  <p>头像：{$user.avatar}</p>
  <p>性别：{switch name="user.sex"}
    {case value="1"}男{/case}
    {case value="2"}女{/case}
    {default /}未知
    {/switch}
  </p>
  <p>邮箱：建立合作关系后可见</p>
  <p>个性签名：</p>
  <h4>角色信息</h4>
  {volist name="roleInfoList" id="roleInfo" key="k"}
    <p><b>角色{$k}：
        {switch name="key"}
            {case value="1"}开发&测试{/case}
            {case value="2"}产品&文案{/case}
            {case value="3"}设计&美工{/case}
            {case value="4"}运营&市场{/case}
            {default /}暂无
        {/switch}
        </b>
    </p>
    {volist name="roleInfo" id="skill"}
    <p>
        技能：{$skill['name']}&emsp;等级：
        {switch name="skill['level']"}
            {case value="1"}入门{/case}
            {case value="2"}熟练{/case}
            {case value="3"}精通{/case} 
            {default /}
        {/switch}
    </p>
    {/volist}
  {/volist}
  <h4>个人标签</h4>
  <p>/
    {volist name="tags" id="tag"}
        {$tag['name']}&nbsp;/
    {/volist}
  </p>
  <h4>项目经历</h4>
  <p>
    {$exp.exp}
  </p>
  <p>
    <button class="layui-btn btn-block" id="invite">邀请加入</button>      
  </p>
</div>
<br />
{/block}0
{block name="free_js"}
<script>
layui.use(['form','layer'],function(){
    var form = layui.form;
    var layer = layui.layer;
    
    $("#invite").on('click',function(){
        layer.open({
          type: 1,
          title: '请选择邀请加入的项目',
          skin: 'layui-layer-rim', //加上边框
          // area: ['90vw'], //宽高
          content: `
            <div>
              {volist name="myProjects" id="myproject"}
                <p>【
                    {switch name="myproject['cate_id']"}
                    {case value="1"}比赛{/case}    
                    {case value="2"}外包{/case}
                    {case value="3"}创业{/case}
                    {case value="4"}实验课题{/case}
                    {case value="5"}实践练手{/case}
                    {case value="6"}比赛：国创{/case}
                    {case value="7"}比赛：互联网+{/case}
                    {case value="8"}比赛：数模{/case}
                    {case value="10"}比赛：挑战杯{/case}
                    {case value="11"}比赛：TI杯{/case}
                    {case value="12"}比赛：其他{/case}
                    {/switch}
                】<a href={:url("user/action/invite","uid=$user[id]&pid=$myproject[id]")}>{$myproject.name}</a></p>
              {/volist}
            </div>
          `,
          success: function(layero, index){
            console.log(layero,index);
          }
        });
    });
});
</script>
{/block}