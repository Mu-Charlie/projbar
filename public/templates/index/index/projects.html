{extend name="templates/public/base.html" /}
{block name="main"}
<p style="line-height:10px;">&nbsp;</p>
<div class="layui-word-aux">检索关键字为&nbsp;“{$key}”，标签为&nbsp;“{$tagName}”&nbsp;的结果如下：</div>
<div class="container-fluid" style="margin-top:10px;margin-bottom:40px;">
    <div class="row">
        {volist name="projList" id="proj"}
        <div class="col-md-6 col-sm-12" style="padding:0 2px 0 2px;">
            <!-- content below -->
            <a href={:url("index/index/view","id=$proj[id]")}>                        
            <div class="proj">
            <div class="proj-pic">
                <div class="pic-img">
                <img style="border-radius:8px;" src="{$proj.image}" alt="项目图片">
                </div>
            </div>
            <div class="proj-info">
                <p class="proj-info-title">
                {$proj.name}
                </p>
                <div class="proj-info-status">
                    <span class="status-item status-icon">◈</span>
                    <span class="status-item status-type">{$proj.cate_name}</span>
                    <!-- <span class="status-item status-info status-on">招募中</span> -->
                </div>
                <div class="proj-info-main">
                <p class="proj-intro">{$proj.intro}</p>
                </div>
            </div>
            </div>
            </a>
            <!-- content above -->
        </div>
        {/volist}
    </div>
    <div class="container" align="center" id="paginate">{$projList->render()}</div>
</div>
{/block}
{block name="free_js"}
{__block__}
<script>
    $(document).ready(function(){
        const PROJ_INTRO_MAX_LENGTH=60;
        $(".proj-intro").each(function(){
            projIntro = $(this).text();
            if(projIntro.length > PROJ_INTRO_MAX_LENGTH){
                $(this).text(projIntro.substr(0,PROJ_INTRO_MAX_LENGTH-1)+'...');
            }
        });
    });
</script>
{/block}