{extend name="templates/public/base.html" /}
{block name="cascade"}{/block}
{block name="main"}
<h1 align="center">Edit Role Info</h1>
<div class="container">
    <button onclick="appendRole()" class="btn btn-primary">添加角色</button> 
    <div><br /></div>
    <form action="{:url('edit_role_handle')}" method="post" role="form" id="role_form" class="form-horizontal">
        {volist name="roleInfoList" id="roleInfo" key="k"}
        <div id="arole">
        <div class="form-group">
            <div class="col-md-3 col-xs-3 column"><b>角色{$k}</b></div>
            <div class="col-md-9 col-xs-9 column">
            <select name="role[]" class="form-control">
                    <option value="1" {eq name="key" value="1"}selected="selected"{/eq}>开发&测试</option>
                    <option value="2" {eq name="key" value="2"}selected="selected"{/eq}>产品&文案</option>
                    <option value="3" {eq name="key" value="3"}selected="selected"{/eq}>设计&美工</option>
                    <option value="4" {eq name="key" value="4"}selected="selected"{/eq}>运营&市场</option>
            </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-3 col-xs-3 column">
            <label>技能</label>
            </div>
            <div class="col-md-3 col-xs-3 column">
            <input name="skill1[]" value="{$roleInfo[0]['name']}" type="text" class="form-control" placeholder="Skill Name" />
            </div>
            <div class="col-md-6 col-xs-6 column">
            <select name="level1[]" class="form-control">
            {switch name="roleInfo[0]['level']"}
            {case value="1"}
            <option value="1" selected="selected">入门</option>
            <option value="2">熟练</option>
            <option value="3">精通</option>
            {/case}
            {case value="2"}
            <option value="1">入门</option>
            <option value="2" selected="selected">熟练</option>
            <option value="3">精通</option>
            {/case}
            {case value="3"}
            <option value="1">入门</option>
            <option value="2">熟练</option>
            <option value="3" selected="selected">精通</option>
            {/case}
            {/switch}
            </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-3 col-xs-3 column">
                <label>技能</label>
            </div>
            <div class="col-md-3 col-xs-3 column">
                <input name="skill2[]" value="{$roleInfo[1]['name']}" type="text" class="form-control" placeholder="Skill Name" />
            </div>
            <div class="col-md-6 col-xs-6 column">
            <select name="level2[]" class="form-control">
            {switch name="roleInfo[1]['level']"}
            {case value="1"}
            <option value="1" selected="selected">入门</option>
            <option value="2">熟练</option>
            <option value="3">精通</option>
            {/case}
            {case value="2"}
            <option value="1">入门</option>
            <option value="2" selected="selected">熟练</option>
            <option value="3">精通</option>
            {/case}
            {case value="3"}
            <option value="1">入门</option>
            <option value="2">熟练</option>
            <option value="3" selected="selected">精通</option>
            {/case}
            {/switch}
            </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-3 col-xs-3 column">
                <label>技能</label>
            </div>
            <div class="col-md-3 col-xs-3 column">
                <input name="skill3[]" value="{$roleInfo[2]['name']}" type="text" class="form-control" placeholder="Skill Name" />
            </div>
            <div class="col-md-6 col-xs-6 column">
            <select name="level3[]" class="form-control">
            {switch name="roleInfo[2]['level']"}
            {case value="1"}
            <option value="1" selected="selected">入门</option>
            <option value="2">熟练</option>
            <option value="3">精通</option>
            {/case}
            {case value="2"}
            <option value="1">入门</option>
            <option value="2" selected="selected">熟练</option>
            <option value="3">精通</option>
            {/case}
            {case value="3"}
            <option value="1">入门</option>
            <option value="2">熟练</option>
            <option value="3" selected="selected">精通</option>
            {/case}
            {/switch}
            </select>
            </div>
        </div> 
        </div><!--role--> 
        {/volist}
        <div class="form-group" id="tag">
          <h3>个人标签</h3>    
          <div class="col-md-12 col-xs-12 column">
            <input type="checkbox" name="tags[]" value="1" {foreach $tags as $tag}{eq name="tag['id']" value="1"}checked="checked"{/eq}{/foreach} /> web
            <input type="checkbox" name="tags[]" value="2" {foreach $tags as $tag}{eq name="tag['id']" value="2"}checked="checked"{/eq}{/foreach} /> 后端
            <input type="checkbox" name="tags[]" value="3" {foreach $tags as $tag}{eq name="tag['id']" value="3"}checked="checked"{/eq}{/foreach} /> 前端
            <input type="checkbox" name="tags[]" value="4" {foreach $tags as $tag}{eq name="tag['id']" value="4"}checked="checked"{/eq}{/foreach} /> UI
            <input type="checkbox" name="tags[]" value="5" {foreach $tags as $tag}{eq name="tag['id']" value="5"}checked="checked"{/eq}{/foreach} /> 嵌入式
            <input type="checkbox" name="tags[]" value="6" {foreach $tags as $tag}{eq name="tag['id']" value="6"}checked="checked"{/eq}{/foreach} /> 通信
            <input type="checkbox" name="tags[]" value="7" {foreach $tags as $tag}{eq name="tag['id']" value="7"}checked="checked"{/eq}{/foreach} /> iOS
            <input type="checkbox" name="tags[]" value="8" {foreach $tags as $tag}{eq name="tag['id']" value="8"}checked="checked"{/eq}{/foreach} /> Android
            <input type="checkbox" name="tags[]" value="9" {foreach $tags as $tag}{eq name="tag['id']" value="9"}checked="checked"{/eq}{/foreach} /> 产品
            <input type="checkbox" name="tags[]" value="10" {foreach $tags as $tag}{eq name="tag['id']" value="10"}checked="checked"{/eq}{/foreach} /> 运营
            <input type="checkbox" name="tags[]" value="11" {foreach $tags as $tag}{eq name="tag['id']" value="11"}checked="checked"{/eq}{/foreach} /> 云计算
            <input type="checkbox" name="tags[]" value="12" {foreach $tags as $tag}{eq name="tag['id']" value="12"}checked="checked"{/eq}{/foreach} /> 大数据
            <input type="checkbox" name="tags[]" value="13" {foreach $tags as $tag}{eq name="tag['id']" value="13"}checked="checked"{/eq}{/foreach} /> 游戏开发
            <input type="checkbox" name="tags[]" value="14" {foreach $tags as $tag}{eq name="tag['id']" value="14"}checked="checked"{/eq}{/foreach} /> 算法
            <input type="checkbox" name="tags[]" value="15" {foreach $tags as $tag}{eq name="tag['id']" value="15"}checked="checked"{/eq}{/foreach} /> 机器学习
            <input type="checkbox" name="tags[]" value="16" {foreach $tags as $tag}{eq name="tag['id']" value="16"}checked="checked"{/eq}{/foreach} /> 运维
          </div>
        </div>
        <div class="form-group" id="exp">
          <h3>项目经历</h3>
          <div class="col-md-12 col-xs-12 column">
            <textarea class="form-control"></textarea>    
          </div>    
        </div>   
        <button id="submit" type="submit" class="btn btn-primary">确认提交</button>        
    </form>
</div>
<br />
{/block}
{block name="free_js"}
<script>
    function appendRole()
    {
        var txt=`
            <div><b><hr /></b></div>
            <div class="form-group">
            <div class="col-md-3 col-xs-3 column"><b>角色</b></div>
            <div class="col-md-9 col-xs-9 column">
            <select name="role[]" class="form-control">
            <option value="1">开发&测试</option>
            <option value="2">产品&文案</option>
            <option value="3">设计&美工</option>
            <option value="4">运营&市场</option>
            </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-3 col-xs-3 column">
            <label>技能</label>
            </div>
            <div class="col-md-3 col-xs-3 column">
            <input name="skill1[]" type="text" class="form-control" placeholder="Skill Name" />
            </div>
            <div class="col-md-6 col-xs-6 column">
            <select name="level1[]" class="form-control">
            <option value="1">入门</option>
            <option value="2">熟练</option>
            <option value="3">精通</option>
            </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-3 col-xs-3 column">
                <label>技能</label>
            </div>
            <div class="col-md-3 col-xs-3 column">
                <input name="skill2[]" type="text" class="form-control" placeholder="Skill Name" />
            </div>
            <div class="col-md-6 col-xs-6 column">
                <select name="level2[]" class="form-control">
                <option value="1">入门</option>
                <option value="2">熟练</option>
                <option value="3">精通</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-3 col-xs-3 column">
                <label>技能</label>
            </div>
            <div class="col-md-3 col-xs-3 column">
                <input name="skill3[]" type="text" class="form-control" placeholder="Skill Name" />
            </div>
            <div class="col-md-6 col-xs-6 column">
                <select name="level3[]" class="form-control">
                <option value="1">入门</option>
                <option value="2">熟练</option>
                <option value="3">精通</option>
                </select>
            </div>
        </div>`;
        $("#tag").before(txt);
    }
</script>
{/block}